//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.18408
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using System;
using System.Collections;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Data.SQLite;
using System.Data.SqlClient;
using System.Drawing;
using System.Text;
using System.Windows.Forms;
using DCS.TypeConverters;
using System.Drawing.Design;
using DCS.TableObject;


namespace DCS.DCSTables
{


	public partial class tblAlarm 
    {


#if EWSAPP
        public void AlarmObjectCopy(AlarmObject tocopy)
        {
            ID = tocopy.ID;
            VarNameID = tocopy.VarNameID;
            StatusBit = (int)tocopy.StatusBit;
            Type = (int)tocopy.Type;
            AlarmGroupID = tocopy._IAlarmGroup.ID;
            EnableTagID = tocopy.EnableTagID;
            EnableTagDirection = tocopy.EnableTagDirection;
            EnableTagDelayOn = tocopy.EnableTagDelayOn;
            EnableTagDirection = tocopy.EnableTagDirection;
            EnableTagDelayOn = tocopy.EnableTagDelayOn;
            EnableTagDealyOff = tocopy.EnableTagDealyOff;
            DelayOn = tocopy.DelayOn;
            DelayOff = tocopy.DelayOff;
            SourceAlarmTagID = tocopy.SourceAlarmTagID;
            FirstOutGroupID = tocopy.FirstOutGroupID;
            hysteresis = tocopy.hysteresis;
            UpperLevelGroupID = tocopy.UpperLevelGroupID;
        } 
#endif
	}
	
	
	public partial class tblAlarmCollection 
    {
        public override bool Load()
        {
            bool ret = true;
            //List<long> idlist = new List<long>();
            if (Common.Conn == null)
            {
                Common.Conn = new SQLiteConnection(Common.ConnectionString);
                Common.Conn.Open();
            }
            SQLiteDataReader myReader = null;
            SQLiteCommand myCommand = new SQLiteCommand();
            try
            {
                myReader = null;
                myCommand.CommandText = @"SELECT * FROM [tblAlarm] where VarNameID = " + m_VarNameID_tblVariable.VarNameID + ";";
                myCommand.Connection = Common.Conn;
                myReader = myCommand.ExecuteReader();
                while (myReader.Read())
                {
                    tblAlarm tblalarm = new tblAlarm();
                    tblalarm.m_VarNameID_tblVariable = this.m_VarNameID_tblVariable;
                    tblalarm.AddFromRecordSet(myReader);

                    this.Add(tblalarm);

                }

                myReader.Close();
                myCommand.Dispose();
                //int count = idlist.Count;
                //foreach (long id in idlist)// (int i = 0; i < count ; i++)
                //{
                //    tblAlarm tblalarm = new tblAlarm();
                //    tblalarm.ID = id;// idlist[i];
                //    tblalarm.m_VarNameID_tblVariable = this.m_VarNameID_tblVariable;
                //    tblalarm.Select();

                //    this.Add(tblalarm);
                //}
            }
            catch (SQLiteException ae)
            {
                MessageBox.Show(ae.Message.ToString());
                return false;
                // 
            }



            return ret;
        }

	}
}
